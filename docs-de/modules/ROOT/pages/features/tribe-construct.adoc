= Stammeskonstrukt - Organisation und Management des Stammeskonstrukts
:page-title: Stammeskonstrukt
:description: Organisation des Stammeskonstruktes inkl. Membermanagement, Rollenmanagement, Stammestruppen einlesen, Angaben prüfen uvm.
:keywords: Stamm, Gründen, Konstrukt, Rechteverwaltung, Rechte, Truppenimport, Planungsvorbereitung
:toc: macro
:toclevels: 1
:toc-title: Inhalt

Unter dem Menüpunkt *Stammeskonstrukt* kann ein Stammeskonstrukt erstellt und verwaltet werden.
Das Stammeskonstrukt vereint die gemeinsame Verwendung von TW Forge durch mehrere Accounts.

Dabei werden unter anderem folgende Informationen und Funktionen im Konstrukt gebündelt:

* Hochgeladene Berichte und eingehende Angriffe werden innerhalb des Konstrukts geteilt.
* Abfragen für Aktionen berücksichtigen Abschickzeiten und weitere accountbezogene Angaben.
* Berechnete Aktionen (Angriffspläne) können im Konstrukt geteilt und gemeinsam weiterbearbeitet werden.
* Verwaltung von Diplomatie und Bündnissen zu anderen Stammeskonstrukten.
* Zentrale Übersicht über Aktivität (Uploads) der Mitglieder.

toc::[]

== Stammeskonstrukt gründen pass:[<span class="tw-forge-gold">TW-Forge-Gold</span>]

Ein Stammeskonstrukt bildet die organisatorische Grundlage für gemeinsame Planung, Rechteverwaltung und das Teilen von Daten zwischen mehreren Accounts.

IMPORTANT: Das Erstellen eines Stammeskonstrukts ist ausschließlich mit *TW-Forge-Gold* möglich.
Ohne Premium-Zugang kannst du bestehenden Stammeskonstrukten beitreten, aber kein eigenes Konstrukt erstellen.

== Einem Stammeskonstrukt beitreten

Um einem Stammeskonstrukt beizutreten, benötigst du einen Invite Link, der von deiner Stammesführung oder einem bereits beigetretenen Stammesmitglied erstellt werden kann.
Um beizutreten, klicke auf den Link und es öffnet sich ein Browserfenster, in dem man auf "beim Stammeskonstrukt bewerben" klicken muss.
Wenn dies erfolgreich ist, ist alles Erforderliche getan - du musst jetzt nur noch von der Stammesführung freigeschaltet werden.
Sobald du freigeschaltet bist, werden deine Berichte und Angriffe automatisch mit dem Stamm geteilt und du erhältst Zugriffsrechte, die von dem dir von der SF zugewiesenen Rechtelevel entsprechen.

TIP: Man kann auch mehreren Stammeskonstrukten gleichzeitig angehören.
Hochgeladene Berichte sowie eingehende Angriffe werden automatisch mit beiden Stammeskonstrukten geteilt.

== Übersicht

Hier kannst du dein Stammeskonstrukt verlassen oder, sofern du Gründer-Rechte hast, diese auflösen.

// Platzhalter, weiß atm nicht, wofür die Seite überhaupt da ist, außer dass man da Stamm auflösen kann

== Mitglieder[[mitglieder]]

Im Bereich *Mitglieder* verwaltest du alle Accounts, die zum Stammeskonstrukt gehören.
Hier können Mitglieder angenommen werden und das Rechtelevel einzelner Mitglieder angepasst werden.
Um sicherzustellen, dass nur Accounts angenommen werden, die tatsächlich zu deinem Stamm gehören, werden bei der Beitrittsanfrage sowohl der TW-Forge Account als auch der verknüpfte ingame Account angezeigt.
Um auf eine ausstehende Beitrittsanfrage aufmerksam zu machen, wird mit einer Notification über dem Menüpunkt "Mitglieder" darauf hingewiesen.

Das Rechtesystem ist *aufeinander aufbauend*: Alles, was ein Mitglied kann, kann ein Planer automatisch ebenfalls (und so weiter).

=== Rechtelevel

==== Gastrechte

Gästerechte sind Teil des Konstrukts, haben jedoch *keine Einsicht* in Berichte oder eingehende Angriffe des Stammes.

* Teilt die *eigenen* Berichte und eingehenden Angriffe mit dem Stamm
* Keine Einsicht auf die Berichte-Datenbank
* Keine Einsicht auf eingehende Angriffe (Incs) des Stammes
* Teilen von Abfrageinformationen mit dem Stamm (AGs, Zeiten etc.)

==== Mitglied

Mitglieder haben Zugriff auf die gemeinsamen Informationen des Konstrukts:

* Einsicht auf alle eingehenden Angriffe (Incs) auf den Stamm
* Einsicht in die vollständige Berichte-Datenbank
* Erstellen von einmalig nutzbaren Invite-Links für das Stammeskonstrukt

==== Planer

Planer-Rechte erweitern den Zugriff um planungsrelevante Funktionen:

* Einlesen von Stammestruppen
* Einsicht auf erstellte Pläne
* Interaktionsmöglichkeit mit Plänen (z. B. Abhängigkeiten, Anpassungen)
* Möglichkeit zur Planveröffentlichung für das gesamte Konstrukt
* Möglichkeit zum Eintragen von Zeiten für andere Accounts des Konstrukts

==== Führung

Führung übernimmt organisatorische und diplomatische Verwaltungsaufgaben:

* Verwalten von Mitgliedern
* Eintragen und Ändern von Diplomatie
* Einstellbarkeit zur Teilung von Stammesinformationen mit einem anderen Stamm (Bündnisse)
* Einsicht, wann zuletzt Berichte/Angriffe von Mitgliedern hochgeladen wurden
* Erstellung von Invite-Links für das Stammeskonstrukt
* Verwaltung der verknüpften Discord-Server

==== Gründer

Gründer-Rechte umfassen die höchste Kontrolle über das Konstrukt:

* Möglichkeit zum Auflösen des Stammeskonstrukts

== Truppen

Im Bereich *Truppen* können Stammestruppen eingelesen und aktualisiert werden.
Das Einlesen erfolgt über ein erlaubtes Net-SL-Script.

TIP: Du benötigst das erlaubte Net-Schnellleisten Script, welches du unter folgendem Link finden kannst:
https://forum.tribalwars.net/index.php?threads/download-tribe-info.285469/[tribe-troop-counter]

=== Benutzung des Userscripts

Um die Truppen mit dem Schnellleistenscript auszulesen, füge zunächst das oben verlinkte Schnellleistenscript in deine Browser-Schnellleiste oder in die Schnellleiste in "Die Stämme" ein, indem du den Code aus dem Punkt "Quickbar Entry" in die Schnellleiste einfügst.

image::features/tribe-construct/script-installieren.png[Script Importieren]

TIP: Um das Script benutzen zu können und Truppeninformationen zu erhalten, benötigst du mindestens Stammesführungsrechte in deinem Stamm.
Außerdem kannst du die Truppen nur auslesen, wenn die Stammesmitglieder unter Einstellungen -> Stammeseinstellungen ihre Truppen / Verteidigung für die SF freigegeben haben.

Danach gehe auf **Stamm -> Mitglieder**.
Dort klickst du dann auf das Schnellleistenscript entweder in deiner Browserbar oder in der Schnellleiste in "Die Stämme", je nachdem wo du es eingefügt hast.
Danach sollte sich folgendes Fenster öffnen:

image::features/tribe-construct/tribe-info-script.png[Tribe-Info-Script]

Hier kannst du auswählen, ob du entweder die zum Dorf gehörenden Truppen "Troops" auslesen möchtest, oder die im Dorf stehenden Truppen "Defenses".
Sollten Filter eingestellt sein, so lösche alle Filter, bis keiner mehr angezeigt wird.
Jetzt klicke auf "Read Data" und warte, bis das Script alle Truppen ausgelesen hat (je nach Dorfmenge dauert dies zwischen 5 und 30 Sekunden).
Du solltest jetzt einen Output erzeugt haben, der in etwa folgendermaßen aussieht:

image::features/tribe-construct/tribe-info-script-example-troops.png[Beispielauslesung des Scripts]

TIP: Hierbei können ein bekanntes Problem auftreten.
Bei der ersten benutzung des Scripts kann es sein, dass das Outputfeld lediglich den Header (Coords, Player, ...) enthält.
Der Fix hierfür ist, in der Scriptübersicht (Screenshot 1) einmal das Feld "Read defenses in the village" auszuwählen, und dann wieder auf das Feld "Read troops of the village" zu klicken - dies sollte in den meisten Fällen das Problem fixen.

WARNING: Das Script funktioniert nur bis 1000 Dörfer pro Spieler, alles über dieser Anzahl wird nicht ausgelesen.

Wenn du den korrekten Output erzeugt hast, kann danach entweder die Datei als .csv Datei abgespeichert werden und danach in TW-Forge importiert werden (Datei öffnen -> Strg A -> Strg C, TW Forge/Stammeskonstrukte/Truppen öffnen, Ctrl V) oder direkt aus der Vorschau kopiert und auf dem gleichen Weg in TW Forge eingefügt werden.

TIP: Wenn du die Datei als .csv abgespeichert hast und du siehst, dass bei einigen Spielern anstatt von Truppenzahlen Fragezeichen("?") stehen, liegt das daran, dass der Spieler entweder seine Truppen oder seine Verteidigung nicht mit dem Stamm teilt.

Auf TW-Forge kann ausgewählt werden, ob die eingefügten Truppen als "Truppen" oder als "Verteidigung" abgespeichert werden.

image::features/tribe-construct/import-troops.png[Truppenimport in TW-Forge]

TIP: Du bist nicht verpflichtet, Truppen als Truppen und Verteidigung als Verteidigung hochzuladen.
Es kann teilweise von Vorteil sein, bei Aktionsplanungen auch Dorfverteidigung als Dorftruppen hochzuladen.
Die Templatefunktion unter Aktionsplaner -> Herkunftsdörfer benutzt immer nur die Dorftruppen, weshalb es notwendig ist, auch Verteidigung als Truppen hochzuladen, sollte man dieses Feature nutzen wollen.

// hier noch später den Aktionsplaner/Herkunftsseite verlinken
// Ist das verständlich formuliert? find es iwie nicht so ganz schön

== Abfrage

Im Bereich *Abfrage* siehst du, welche Accounts Angaben hinterlegt haben, z. B.:

* Abschickzeiten
* AGs
* nicht verfügbare Offs

=== Filter

Du kannst die Einträge filtern, um veraltete Angaben auszublenden:

* Filterung nach Alter der Eintragungen
* Alternativ: Von-/Bis-Filter für einen genauen Zeitraum

=== Zeiten hinzufügen

Zusätzlich können Zeiten für einen oder mehrere Accounts/Stämme ergänzt werden.
Das ist besonders nützlich, wenn:

* Standardzeiten gesetzt werden sollen
* einzelne Accounts vergessen haben, Zeiten anzugeben

== Diplomatie

Im Bereich *Diplomatie* wird Stammesdiplomatie gepflegt.
Hier können Stämme als

* Verbündete
* Neutrale
* Feinde

eingetragen und farblich markiert werden.

Diese Markierungen werden unter anderem angezeigt:

* auf der Karte: xref:features/map.adoc[Karte]
* im Aktionsplaner: xref:features/action-planner/action-planner-uebersicht.adoc[Aktionsplaner]

== Bündnisse

Im Bereich *Bündnisse* können Bündnisse mit anderen TW-Forge-Stammeskonstrukten eingegangen werden.

Für jedes Bündnis kann definiert werden:

* ob Berichte und eingehende Angriffe geteilt werden sollen
* ob beim Teilen von Berichten die eigenen Informationen versteckt werden sollen

=== Ablauf: Bündnis-Anfrage

Das Bündnis wird über einen Link-Prozess hergestellt:

. Konstrukt A erstellt einen Link und sendet ihn an Konstrukt B.
. Konstrukt B erstellt über den Link eine Anfrage.
. Konstrukt A nimmt die Anfrage an.
. Danach können die Sharing-Einstellungen (Berichte/Angriffe) und optional das Verstecken von Informationen konfiguriert werden.

=== Transparenz der Einstellungen

Jede Seite kann die aktuellen Einstellungen der anderen Seite einsehen.
Damit sollen asymmetrische Einstellungen (z. B. nur eine Seite teilt) sofort erkennbar sein.

// Es wäre denke gut, wenn das einseitige Ändern der Einstellungen entweder dazu führt, dass die andere Seite auch automatisch angepasst wird, oder dass man eine Notification bekommt, dass man es mitbekommt.

== Datenbank

Im Bereich *Datenbank* wird die Aktivität der Mitglieder sichtbar gemacht:

* welche Accounts wie viele Berichte hochgeladen haben
* welche Accounts wie viele Angriffe eingelesen haben
* wann dies zuletzt stattgefunden hat

So kann überprüft werden, wer über längere Zeit keine Daten mehr eingelesen hat.

== Invite Links

Im Bereich *Invite Links* können Einladungslinks für das Stammeskonstrukt erstellt werden.

Invite Links können eingeschränkt werden durch:

* Gültigkeitsdauer
* maximale Anzahl an Benutzungen

== Discord

Im Bereich *Discord* können verknüpfte Discord-Server eingesehen und verwaltet werden.
Hier wird die Verbindung zwischen TW Forge und Discord organisiert.
